# 笔记

- 第 1 节：

## 0. 摹本概念梳理
- lottery-rpc里面只是定义一些接口的描述信息，比如接口入参出参，dto等
- lottery-interfaces是定义一些接口的具体实现步骤和逻辑，但是呢它的实现逻辑所需要的req，res，dto等基本上都来自于lottery-rpc定义的那些，除非一些通用的对象来自于lottery-common
- lottery-infrastructure 就是封装基础功能了，数据库，redis等
- lottery-domain 封装具体的业务领域实现，聚合的充血的
- lottery-common 定义通用的返回对象，常量，枚举，异常之类的
- lotter-application 逻辑包装，编排，任务，事件的发布和订阅
- ![基本概念梳理.png](%E6%88%AA%E5%9B%BE/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E6%A2%B3%E7%90%86.png)
## 1. 构建框架

分支：feature/20250111_build_framework
内容：通过创建第一个活动表信息，对框架引入相应的技术栈，完成CRUD操作,在课程之外的内容上在interfaces模块自己添加了flyway，初始化表的配置


```sql
create table activity
(
    id bigint auto_increment comment '自增ID' primary key,
    activityId bigint null comment '活动ID',
    beginDateTime datetime not null comment '开始时间',
    endDateTime datetime not null comment '结束时间',
    stockCount int not null comment '库存',
    takeCount int null comment '每人可参与次数',
    state int null comment '活动状态：编辑、提审、撤审、通过、运行、拒绝、关闭、开启',
    creator varchar(64) not null comment '创建人',
    activityName varchar(64) not null comment '活动名称',
    activityDesc varchar(128) null comment '活动描述',
    createTime datetime not null comment '创建时间',
    updateTime datetime not null comment '修改时间'
);

create unique index activity_id_uindex
    on activity (id);
```

1. 简化描述、突出重点
2. 代码使用：关于代码分支的使用，学习时涉及的技术内容、fork代码、提交pr等
3. 目录结构：需求、实现、验证、细节
    - 需求描述：介绍本章节要完成的内容
    - 实现过程：在分支的基础上，包括系统框架搭建、功能需求实现、代码编写从过程
    - 功能验证：把实现的项目如何运行测试的过程介绍清楚
    - 技术细节：列举在实现需求的过程中涉及到的技术细节点，作为知识技能的横向拓展和纵向拉伸